<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GenieReasoner | AgiBot Research</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        textMain: '#1a1a1a',
                        textMuted: '#4b5563', // Gray-600
                        brand: '#2563eb',
                        bgLight: '#f9fafb', // Gray-50
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        serif: ['Merriweather', 'Georgia', 'serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    }
                }
            }
        }
    </script>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Merriweather:wght@300;400;700;900&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    
    <style>
        body { 
            background-color: #ffffff; 
            color: #1a1a1a; 
            font-family: 'Merriweather', serif; 
            line-height: 1.8;
            -webkit-font-smoothing: antialiased;
        }
        
        h1, h2, h3, h4, h5, h6, button, .sans-font, nav {
            font-family: 'Inter', sans-serif;
        }

        strong, b, .font-bold {
            font-weight: 800; 
            color: #1a1a1a;   
        }

        .text-shadow {
            text-shadow: 0 2px 4px rgba(0,0,0,0.9);
        }
        
        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        
        .custom-scrollbar::-webkit-scrollbar { width: 4px; height: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 2px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #9ca3af; }

        .donut-chart {
            width: 140px; height: 140px; border-radius: 50%;
            background: conic-gradient(
                #22c55e 0% 35%,   /* Home (Green) */
                #f97316 35% 55%,  /* Restaurant (Orange) */
                #3b82f6 55% 75%,  /* Supermarket (Blue) */
                #6b7280 75% 90%,  /* Industrial (Gray) */
                #eab308 90% 100%  /* Office (Yellow) */
            );
            position: relative;
        }
        .donut-hole {
            width: 80px; height: 80px; border-radius: 50%;
            background: #ffffff; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
        }
        
        .academic-table { width: 100%; border-collapse: collapse; font-family: 'Inter', sans-serif; font-size: 0.85rem; }
        .academic-table th { 
            border-bottom: 2px solid #1a1a1a; 
            padding: 12px 8px; 
            font-weight: 800; 
            text-align: center; 
            color: #000;
            background-color: #f9fafb;
            white-space: nowrap;
        }
        .academic-table td { 
            border-bottom: 1px solid #e5e7eb; 
            padding: 10px 8px; 
            text-align: center; 
            color: #4b5563; 
        }
        .academic-table tr:last-child td { border-bottom: 2px solid #1a1a1a; }
        
        .section-divider { border-bottom: 1px solid #e5e7eb; margin: 4rem 0; }
        
        .nav-link {
            position: relative;
            color: #4b5563;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem; 
            transition: color 0.2s;
        }
        .nav-link:hover {
            color: #1a1a1a;
        }
        
        .logo-fallback {
            font-family: 'Inter', sans-serif;
            font-weight: 900;
            font-style: italic;
            letter-spacing: -1px;
        }

        /* Carousel Navigation Buttons */
        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 20;
            width: 3.5rem;
            height: 3.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 9999px;
            background-color: white;
            color: #1f2937;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            border: 1px solid #e5e7eb;
            transition: all 0.2s ease;
            cursor: pointer;
            opacity: 0.9;
        }
        .carousel-btn:hover {
            background-color: #f8fafc;
            transform: translateY(-50%) scale(1.05);
            color: #2563eb;
            opacity: 1;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        /* Bar Chart Styles */
        .bar-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }
        .bar-group {
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            width: 100%;
            height: 200px;
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 8px;
        }
        .bar-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 25%;
            height: 100%;
            justify-content: flex-end;
            group: group;
        }
        .bar {
            width: 100%;
            border-radius: 4px 4px 0 0;
            transition: height 1s ease-out;
            position: relative;
        }
        .bar-label {
            margin-top: 12px;
            font-family: 'Inter', sans-serif;
            font-size: 0.75rem;
            font-weight: 600;
            color: #4b5563;
            text-align: center;
        }
        .bar-value {
            position: absolute;
            top: -24px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            color: #1a1a1a;
            font-weight: 700;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        
        // --- Icons Wrapper ---
        const IconWrapper = ({ name, size = 24, className }) => {
            const ref = useRef(null);
            useEffect(() => {
                if (!ref.current || !window.lucide) return;
                ref.current.innerHTML = '';
                const i = document.createElement('i');
                i.setAttribute('data-lucide', name);
                i.setAttribute('width', size);
                i.setAttribute('height', size);
                if (className) i.setAttribute('class', className);
                ref.current.appendChild(i);
                window.lucide.createIcons({
                    root: ref.current,
                    nameAttr: 'data-lucide',
                    attrs: { width: size, height: size, class: className }
                });
            }, [name, size, className]);
            return <span ref={ref} className={`inline-flex items-center justify-center ${className || ''}`} style={{ width: size, height: size }}></span>;
        };

        const FileText = (props) => <IconWrapper name="file-text" {...props} />;
        const Target = (props) => <IconWrapper name="target" {...props} />;
        const Database = (props) => <IconWrapper name="database" {...props} />;
        const Info = (props) => <IconWrapper name="info" {...props} />;
        const Bot = (props) => <IconWrapper name="bot" {...props} />;
        const ChevronLeft = (props) => <IconWrapper name="chevron-left" {...props} />;
        const ChevronRight = (props) => <IconWrapper name="chevron-right" {...props} />;
        const Mail = (props) => <IconWrapper name="mail" {...props} />;
        const CopyIcon = (props) => <IconWrapper name="copy" {...props} />;
        const CheckIcon = (props) => <IconWrapper name="check" {...props} />;

        // Improved WeChat Icon (Standard Style)
        const WeChatIcon = ({ size = 20, className }) => (
            <svg 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="currentColor" 
                className={className} 
                xmlns="http://www.w3.org/2000/svg"
            >
                <path d="M8 3.5C3.58 3.5 0 6.63 0 10.5c0 2.21 1.17 4.18 3 5.56-.25.84-.87 2.05-.98 2.26-.14.26.13.43.33.29.62-.43 2.76-1.9 3.25-2.22.8.23 1.66.36 2.55.36.21 0 .42-.01.62-.02C8.32 15.65 8 14.38 8 13c0-4.42 4.03-8 9-8 .5 0 .98.04 1.46.11C16.8 4.09 12.68 3.5 8 3.5zM17 6c-4.42 0-8 2.91-8 6.5 0 3.59 3.58 6.5 8 6.5.76 0 1.5-.09 2.2-.26.42.27 2.23 1.51 2.77 1.88.17.11.39-.03.28-.24-.09-.18-.62-1.21-.83-1.92 1.56-1.18 2.57-2.86 2.57-4.75-.01-3.59-3.59-6.5-8.01-6.5z"/>
                <circle cx="5.5" cy="8.5" r="0.8" fill="white"/>
                <circle cx="10.5" cy="8.5" r="0.8" fill="white"/>
                <circle cx="14.5" cy="10.5" r="0.8" fill="white"/>
                <circle cx="19.5" cy="10.5" r="0.8" fill="white"/>
            </svg>
        );

        // --- Data Constants ---
        const COLORS = {
            perception: '#fbbf24', planning: '#22c55e', mistake: '#60a5fa', collab: '#8b5cf6',
            home: '#22c55e', restaurant: '#f97316', industrial: '#6b7280', supermarket: '#3b82f6', office: '#eab308',
            static: '#86efac', seq: '#f97316', interleaved: '#eab308'
        };

        const SUBTASK_DATA = [
            { name: "Scene Understanding", val: 967, cat: "perception" },
            { name: "Success Detection", val: 800, cat: "planning" },
            { name: "Action Understanding", val: 600, cat: "planning" },
            { name: "Subtask Planning", val: 600, cat: "planning" },
            { name: "Trajectory Understanding", val: 505, cat: "planning" },
            { name: "Task Grounding", val: 486, cat: "perception" },
            { name: "Dualview Matching", val: 445, cat: "perception" },
            { name: "Mistake Existence", val: 334, cat: "mistake" },
            { name: "Task Progress", val: 281, cat: "planning" },
            { name: "Relative Pos. Grounding", val: 249, cat: "perception" },
            { name: "Human-Robot Interaction", val: 227, cat: "collab" },
            { name: "Human Intention", val: 215, cat: "collab" }, 
            { name: "Mistake Classify", val: 116, cat: "mistake" },
            { name: "Fine-grained Planning", val: 112, cat: "planning" }, 
            { name: "Mistake Recovery", val: 105, cat: "mistake" },
        ];
            
        const MAX_SUBTASK_VAL = 967;

        const DEMO_CATEGORIES = [ 
            { id: 'reasoning', label: 'Embodied Reasoning' }, 
            { id: 'generalization', label: 'Robust Generalization' }, 
            { id: 'hri', label: 'Human-Robot Interaction' } 
        ];
        
        const DEMO_ITEMS = {
            reasoning: [ 
                { title: "Logic Reasoning", desc: "Identifies the target is blocked and plans a \"remove-then-retrieve\" action sequence.", src: "./videos/reasoning_inner.mp4" }, 
                { title: "Open-Set Shelf Resetting", desc: "Continuously identifies and restores misplaced items, generalizing to arbitrary SKUs.", src: "./videos/reasoning_error.mp4" },
                { title: "Semantic Following", desc: "Precise semantic alignment for both single-step actions and full task execution.", src: "./videos/instr_cake.mp4" }, 
                { title: "Spatial Understanding", desc: "Reasoning over geometric relationships to place objects in distinct relative orientations.", src: "./videos/spatial_blocks.mp4" } 
            ],
            generalization: [ 
                { title: "Water Bottle", desc: "UserPrompt: I'm thirsty, but I'm trying to lose weight. Please give me a suitable drink.", src: "./videos/gen_water.mp4", src_fpv: "./videos/gen_water_fpv.mp4" }, 
                { title: "Red Pen", desc: "UserPrompt: I want to write, please give me the corresponding items.", src: "./videos/gen_pen.mp4", src_fpv: "./videos/gen_pen_fpv.mp4" }, 
                { title: "White Wadded Paper", desc: "UserPrompt: Pick up desktop trash.", src: "./videos/gen_paper.mp4", src_fpv: "./videos/gen_paper_fpv.mp4" }, 
                { title: "Remote Control", desc: "UserPrompt: I want to watch TV and switch channels. Please provide me the corresponding items.", src: "./videos/gen_remote.mp4", src_fpv: "./videos/gen_remote_fpv.mp4" }, 
                { title: "Charging Cable", desc: "UserPrompt: My phone is out of battery, please give me the corresponding item.", src: "./videos/gen_cable.mp4", src_fpv: "./videos/gen_cable_fpv.mp4" } 
            ],
            hri: [ 
                { title: "Cooperation", desc: "\"Always At Your Service\"", src: "./videos/hri_cooperation.mp4" },
                { title: "Adversarial", desc: "Dynamic Following", src: "./videos/hri_adversarial.mp4" }, 
                { title: "Interaction", desc: "Human Intention Understanding & Action Interaction", src: "./videos/hri_coop.mp4" } 
            ]
        };

        // --- UI Components ---

        const Navigation = () => {
            const [logoError, setLogoError] = useState(false);

            return (
                <nav className="sticky top-0 z-50 w-full bg-slate-900/75 backdrop-blur-md border-b border-white/10 shadow-sm transition-all duration-300">
                    <div className="max-w-6xl mx-auto px-6 h-16 flex items-center justify-between">
                        <div className="flex items-center gap-6 h-full">
                            <a href="https://www.agibot.com" target="_blank" className="group h-full flex items-center opacity-90 hover:opacity-100 transition-opacity py-1">
                                {!logoError ? (
                                    <img 
                                        src="./figs/agibot_logo.png" 
                                        alt="AgiBot" 
                                        className="h-9 w-auto object-contain brightness-0 invert" 
                                        onError={() => setLogoError(true)} 
                                    />
                                ) : (
                                    <div className="flex items-center gap-1.5 text-white h-full">
                                        <Bot size={28} className="text-white" />
                                        <span className="logo-fallback text-xl">AgiBot</span>
                                    </div>
                                )}
                            </a>
                            
                            <div className="h-8 w-px bg-white/20"></div>

                            <a href="#" className="font-bold text-xl tracking-tight text-white hover:text-brand transition-colors">
                                GenieReasoner
                            </a>
                        </div>

                        <div className="flex items-center gap-1 md:gap-8">
                            <div className="hidden md:flex items-center gap-8">
                                <a href="#demos" className="nav-link !text-gray-300 hover:!text-white">Demos</a>
                                <a href="#methodology" className="nav-link !text-gray-300 hover:!text-white">Methodology</a>
                                <a href="#benchmark" className="nav-link !text-gray-300 hover:!text-white">Benchmark</a>
                            </div>
                            
                            <a 
                                href="https://www.agibot.com/research" 
                                target="_blank" 
                                className="nav-link font-bold !text-white hover:!text-brand transition-colors ml-2"
                            >
                                About Us
                            </a>
                        </div>
                    </div>
                </nav>
            );
        };

        const VideoPlayer = ({ src, label, children, className }) => {
            const videoRef = useRef(null);
            const containerRef = useRef(null); 
            
            useEffect(() => {
                const video = videoRef.current;
                const container = containerRef.current;
                
                if (!video || !container) return;

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const playPromise = video.play();
                            if (playPromise !== undefined) {
                                playPromise.catch(error => {});
                            }
                        } else {
                            video.pause();
                        }
                    });
                }, { threshold: 0.5 });

                observer.observe(container);

                return () => {
                    if (container) observer.unobserve(container);
                };
            }, []);

            return (
                <div 
                    ref={containerRef} 
                    className={`relative w-full h-full group bg-black overflow-hidden ${className}`} 
                >
                    <video 
                        ref={videoRef}
                        className="w-full h-full object-cover bg-gray-900" 
                        muted
                        loop 
                        playsInline
                        controls
                        preload="metadata"
                        src={src}
                    />
                    
                    {label && (
                        <div className="absolute top-2 left-2 px-2 py-1 bg-black/60 text-white text-[10px] font-bold uppercase rounded backdrop-blur-sm border border-white/10 pointer-events-none z-10 text-shadow">
                            {label}
                        </div>
                    )}

                    <div className="pointer-events-none z-10">
                        {children}
                    </div>
                </div>
            );
        };

        const VideoCarousel = ({ categoryId, items, children }) => {
            const scrollRef = useRef(null);
            const [showLeft, setShowLeft] = useState(false);
            const [showRight, setShowRight] = useState(true);

            const checkScroll = () => {
                if (!scrollRef.current) return;
                const { scrollLeft, scrollWidth, clientWidth } = scrollRef.current;
                setShowLeft(scrollLeft > 10);
                setShowRight(scrollLeft < scrollWidth - clientWidth - 10);
            };

            useEffect(() => {
                checkScroll();
                window.addEventListener('resize', checkScroll);
                return () => window.removeEventListener('resize', checkScroll);
            }, [items]);

            const scroll = (direction) => {
                if (!scrollRef.current) return;
                const container = scrollRef.current;
                const scrollAmount = container.clientWidth * 0.5; // Scroll half width
                container.scrollBy({ 
                    left: direction === 'left' ? -scrollAmount : scrollAmount, 
                    behavior: 'smooth' 
                });
                setTimeout(checkScroll, 300);
            };

            return (
                <div className="relative group px-4 md:px-12 max-w-full"> 
                    {/* Navigation Buttons */}
                    <button 
                        onClick={() => scroll('left')}
                        className={`carousel-btn left-2 md:-left-2 ${showLeft ? 'opacity-100 visible' : 'opacity-0 invisible'}`}
                        aria-label="Previous"
                    >
                        <ChevronLeft size={28} />
                    </button>
                    
                    <button 
                        onClick={() => scroll('right')}
                        className={`carousel-btn right-2 md:-right-2 ${showRight ? 'opacity-100 visible' : 'opacity-0 invisible'}`}
                        aria-label="Next"
                    >
                        <ChevronRight size={28} />
                    </button>

                    <div 
                        ref={scrollRef}
                        onScroll={checkScroll}
                        className={`
                            flex overflow-x-auto gap-6 pb-4 pt-4 snap-x snap-mandatory no-scrollbar 
                            ${items.length <= 2 ? 'md:justify-center' : ''}
                        `}
                    >
                        {children}
                    </div>
                </div>
            );
        };

        // Unified Button Style with Color Support - Alignment Fixed
        const Button = ({ icon, label, href="#", iconColor }) => {
            return (
                <a 
                    href={href} 
                    className="group flex items-center justify-center gap-2 px-5 py-2.5 rounded-full bg-white border border-gray-200 text-gray-800 shadow-sm transition-all duration-300 hover:shadow-md hover:border-gray-300 hover:-translate-y-0.5"
                >
                    <span className={`flex items-center justify-center transition-colors duration-300 ${iconColor || 'text-gray-600'}`}>
                        {icon}
                    </span>
                    <span className="text-sm font-bold leading-none pt-[1px]">
                        {label}
                    </span>
                </a>
            );
        };

        const SectionHeader = ({ title, subtitle }) => (
            <div className="mb-12 text-center">
                <h2 className="sans-font text-3xl font-bold text-textMain mb-4 tracking-tight">
                    {title}
                </h2>
                {subtitle && <p className="text-textMuted text-lg max-w-4xl mx-auto leading-relaxed font-light">{subtitle}</p>}
            </div>
        );

        const SmartImage = ({ src, alt, className, fallbackText }) => {
            const [isError, setIsError] = useState(false);
            if (isError || !src) {
                return (
                    <div className={`bg-gray-50 border border-gray-200 flex flex-col items-center justify-center text-gray-400 text-sm p-4 ${className}`} style={{minHeight: '200px'}}>
                        <div className="mb-2 opacity-50 text-xs">[Image]</div>
                        {fallbackText || alt}
                    </div>
                );
            }
            return <img src={src} alt={alt} className={className} onError={() => setIsError(true)} />;
        };

        // --- Main App ---

        function App() {
            const [copied, setCopied] = useState(false);
            
            useEffect(() => {
                if (window.lucide) window.lucide.createIcons();
            });

            const totalSubtaskSamples = SUBTASK_DATA.reduce((acc, curr) => acc + curr.val, 0);

            const bibtex = `@misc{liu2025unifiedembodiedvlmreasoning,
      title={Unified Embodied VLM Reasoning with Robotic Action via Autoregressive Discretized Pre-training}, 
      author={Yi Liu and Sukai Wang and Dafeng Wei and Xiaowei Cai and Linqing Zhong and Jiange Yang and Guanghui Ren and Jinyu Zhang and Maoqing Yao and Chuankang Li and Xindong He and Liliang Chen and Jianlan Luo},
      year={2025},
      eprint={2512.24125},
      archivePrefix={arXiv},
      primaryClass={cs.RO},
      url={https://arxiv.org/abs/2512.24125}, 
}`;

            const handleCopy = () => {
                const textArea = document.createElement("textarea");
                textArea.value = bibtex;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    setCopied(true);
                    setTimeout(() => setCopied(false), 2000);
                } catch (err) {
                    console.error('Unable to copy', err);
                }
                document.body.removeChild(textArea);
            };

            return (
                <div className="bg-white min-h-screen">
                    <Navigation />
                    
                    {/* Header */}
                    <header className="pt-10 pb-16 px-6 max-w-6xl mx-auto text-center border-b border-gray-100">
                        <h1 className="sans-font text-3xl md:text-5xl font-bold text-textMain mb-6 tracking-tighter leading-[1.1]">
                            Unified Embodied VLM Reasoning with Robotic Action via Autoregressive Discretized Pre-training
                        </h1>
                        
                        {/* Authors Section */}
                        <div className="sans-font mb-10 max-w-5xl mx-auto">
                            {/* Author List */}
                            <div className="text-base md:text-lg text-black font-bold leading-normal mb-2">
                                <span className="font-bold whitespace-nowrap">Yi Liu<sup>1*</sup></span>,{' '}
                                <span className="font-bold whitespace-nowrap">Sukai Wang<sup>1*†</sup></span>,{' '}
                                <span className="font-bold whitespace-nowrap">Dafeng Wei<sup>1</sup></span>,{' '}
                                <span className="font-bold whitespace-nowrap">Xiaowei Cai<sup>1</sup></span>,{' '}
                                <span className="font-bold whitespace-nowrap">Linqing Zhong<sup>1</sup></span>,{' '}
                                <span className="font-bold whitespace-nowrap">Jiange Yang<sup>1</sup></span>,{' '}
                                <span className="font-bold whitespace-nowrap">Guanghui Ren<sup>2</sup></span>,<br className="hidden lg:block"/>
                                <span className="font-bold whitespace-nowrap">Jinyu Zhang<sup>1,3</sup></span>,{' '}
                                <span className="font-bold whitespace-nowrap">Maoqing Yao<sup>2</sup></span>,{' '}
                                <span className="font-bold whitespace-nowrap">Chuankang Li<sup>1</sup></span>,{' '}
                                <span className="font-bold whitespace-nowrap">Xindong He<sup>1</sup></span>,{' '}
                                <span className="font-bold whitespace-nowrap">Liliang Chen<sup>1</sup></span>,{' '}
                                <span className="font-bold whitespace-nowrap">Jianlan Luo<sup>1,3‡</sup></span>
                            </div>

                            {/* Affiliations */}
                            <div className="text-black text-sm font-bold space-y-1 md:space-y-0 md:space-x-8 flex flex-col md:flex-row justify-center items-center mb-2">
                                <span><sup>1</sup> AgiBot Research</span>
                                <span><sup>2</sup> AgiBot</span>
                                <span><sup>3</sup> Shanghai Innovation Institute</span>
                            </div>
                        </div>

                        <div className="flex justify-center gap-4 flex-wrap mt-8">
                            <Button href="https://arxiv.org/abs/2512.24125" label="Paper" icon={<FileText size={18} />} iconColor="text-red-600" />
                            <Button 
                                href="https://github.com/GenieReasoner/ERIQ" 
                                label="Benchmark" 
                                icon={<Database size={18} />} 
                                iconColor="text-blue-600" 
                            />
                        </div>
                    </header>

                    {/* Videos Section */}
                    <section id="demos" className="max-w-7xl mx-auto px-6 mb-20 scroll-mt-20 pt-16">
                        {DEMO_CATEGORIES.map(cat => (
                            <div key={cat.id} className="mb-12">
                                <h4 className="sans-font font-bold text-sm md:text-base uppercase text-gray-500 tracking-wider mb-6 text-center">
                                    {cat.label}
                                </h4>
                                
                                <VideoCarousel categoryId={cat.id} items={DEMO_ITEMS[cat.id]}>
                                    {DEMO_ITEMS[cat.id]?.map((item, idx) => {
                                        if (cat.id === 'generalization') {
                                            return (
                                                <div key={idx} className="flex-none w-[85vw] md:w-[45%] snap-center">
                                                    <div className="group relative aspect-[32/27] bg-black rounded-lg overflow-hidden border border-gray-200 shadow-sm hover:shadow-md transition-shadow grid grid-rows-2">
                                                        <div className="relative border-b border-white/10 overflow-hidden">
                                                            <VideoPlayer 
                                                                src={item.src} 
                                                            />
                                                        </div>
                                                        <div className="relative overflow-hidden">
                                                            <VideoPlayer 
                                                                src={item.src_fpv || item.src} 
                                                            >
                                                                <div className="absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/90 via-black/50 to-transparent pointer-events-none flex flex-col items-center justify-end text-center">
                                                                    <h5 className="!text-white text-sm font-bold sans-font text-shadow leading-tight mb-1">{item.title}</h5>
                                                                    <p className="!text-white text-[11px] leading-snug opacity-100 text-shadow">{item.desc}</p>
                                                                </div>
                                                            </VideoPlayer>
                                                        </div>
                                                    </div>
                                                </div>
                                            );
                                        }
                                        return (
                                            <div key={idx} className="flex-none w-[85vw] md:w-[45%] snap-center">
                                                <div className="group relative aspect-video bg-black rounded-lg overflow-hidden border border-gray-200 shadow-sm hover:shadow-md transition-shadow">
                                                    <VideoPlayer 
                                                        src={item.src}
                                                    >
                                                        <div className="absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/90 via-black/50 to-transparent pointer-events-none flex flex-col items-center justify-end text-center">
                                                            <h5 className="!text-white text-sm font-bold sans-font text-shadow leading-tight">{item.title}</h5>
                                                            <p className="!text-white text-xs mt-1 text-shadow opacity-90">{item.desc}</p>
                                                        </div>
                                                    </VideoPlayer>
                                                </div>
                                            </div>
                                        );
                                    })}
                                </VideoCarousel>
                            </div>
                        ))}
                    </section>

                    <div className="max-w-5xl mx-auto px-6 mb-12 mt-12">
                        <div className="relative bg-white rounded-lg overflow-hidden shadow-xl border border-gray-200 group mb-8">
                             <SmartImage src="./figs/fig1_vis.png" alt="Main Teaser Figure" className="w-full h-auto" fallbackText="[Figure 1: Visualization]" />
                        </div>
                        <div className="text-base md:text-textMain text-gray-600 text-justify leading-relaxed sans-font max-w-7xl mx-auto font-light">
                            While general-purpose robots require both broad semantic reasoning and high-precision execution, existing Vision-Language-Action (VLA) models often struggle with the trade-off between these two critical capabilities. To address this, we present <strong>GenieReasoner</strong>, a unified framework that co-optimizes high-level embodied intelligence and low-level control within a single autoregressive transformer. Our work first establishes <strong>ERIQ</strong>, a comprehensive benchmark designed to quantify the reasoning bottleneck in robotic manipulation. To bridge the gap from reasoning to precise action, we introduce <strong>FACT</strong>, a novel flow-based action tokenizer that preserves high-fidelity trajectories in a discrete space. This unified design allows <strong>GenieReasoner</strong> to significantly outperform both diffusion-based and discrete-action baselines across simulated and real-world tasks.                        
                        </div>
                    </div>

                    <div className="section-divider max-w-5xl mx-auto"></div>
                    
                    {/* Methodology Section */}
                    <section id="methodology" className="max-w-6xl mx-auto px-6 mb-24 scroll-mt-20">
                        <SectionHeader 
                            title="Methodology: GenieReasoner" 
                        />
                        
                        <div className="mb-20">
                            <div className="bg-white border border-gray-200 rounded-xl p-2 mb-8 shadow-sm">
                                <SmartImage src="./figs/fig_framework.png" alt="UniFACT Framework" className="w-full h-auto rounded-lg" fallbackText="[Figure: Framework]" />
                            </div>
                            
                            <div className="max-w-4xl mx-auto text-justify text-gray-600 space-y-6">
                                <p>
                                    We seek a unified <strong>“Action as Language”</strong> paradigm that enables action sequences to inherit the compositional generalization of large Vision-Language Models (VLMs), while simultaneously preserving the high-precision continuous control required for reliable physical execution.
                                </p>
                                <p>
                                    Most prior VLA systems (e.g., &pi;<sub>0.5</sub>-style) couple a discrete VLM backbone with a continuous policy head to preserve control precision. However, the separation between token-level reasoning and continuous regression can introduce <strong>knowledge insulation</strong>, which may hinder tight reasoning-to-action alignment and lead to weaker generalization in complex, unseen scenarios.
                                </p>
                                <p>
                                    GenieReasoner addresses this via two complementary directions: (i) unifying perception, reasoning, and action into a single discrete representation to remove cross-objective interference, and (ii) introducing <strong>FACT</strong> to discretize continuous trajectories with high-fidelity reconstruction. This synergistic approach allows the entire model to be optimized with a single autoregressive objective, ensuring that abstract semantic reasoning flows seamlessly into precise physical control without compromise.
                                </p>
                            </div>
                        </div>

                        <div className="bg-white rounded-2xl p-8 border border-gray-200 shadow-sm mb-12">
                            <h3 className="sans-font text-3xl font-bold mb-6 flex items-center justify-center gap-3 border-b border-gray-100 pb-6 text-center">
                                FACT: Bridging Discrete Thought & Continuous Action
                            </h3>
                            
                            <p className="text-gray-600 leading-relaxed mb-10 text-lg w-full text-center">
                                FACT encodes continuous actions into discrete tokens to align with the VLM, utilizing Flow Matching to reconstruct high-fidelity trajectories from the quantized representation.
                            </p>
                            
                            <div className="flex flex-col lg:flex-row gap-12 items-center">
                                <div className="w-full lg:w-3/5">
                                    <div className="bg-white border border-gray-200 rounded-xl p-2 shadow-sm">
                                        <SmartImage src="./figs/fig_tokenizer.png" alt="Tokenizer" className="w-full h-auto rounded-lg" fallbackText="[Figure: Tokenizer]" />
                                    </div>
                                </div>
                                <div className="w-full lg:w-2/5 space-y-8 text-justify lg:text-left">
                                    <div className="border-l-4 border-brand pl-6 py-2">
                                        <h4 className="sans-font font-bold text-lg text-textMain mb-2">VQ-Encoder</h4>
                                        <p className="text-sm text-textMuted leading-relaxed">
                                            Built on the MM-DiT architecture, it compresses continuous action chunks into <strong>compact discrete tokens</strong>. This transforms complex physical dynamics into a unified vocabulary compatible with the VLM.
                                        </p>
                                    </div>
                                    
                                    <div className="border-l-4 border-purple-500 pl-6 py-2">
                                        <h4 className="sans-font font-bold text-lg text-textMain mb-2">Flow-Matching Decoder</h4>
                                        <p className="text-sm text-textMuted leading-relaxed">
                                            Leveraging an MM-DiT backbone, it utilizes <strong>Flow Matching</strong> to reconstruct high-fidelity trajectories from discrete tokens. This design ensures smooth, precise motion recovery despite the discrete bottleneck.
                                        </p>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="mt-12">
                                <h4 className="sans-font font-bold text-xl mb-8 text-textMain text-center">Why it works better?</h4>
                                
                                <div className="grid md:grid-cols-2 gap-12">
                                    {/* Left Column: Reconstruction */}
                                    <div className="flex flex-col h-full">
                                        <div className="bg-white border border-gray-200 rounded-xl p-4 shadow-sm mb-6">
                                            <SmartImage src="./figs/fig_exp_tokenizer.png" className="w-full h-auto rounded" fallbackText="[Chart: MSE Comparison]" />
                                            <p className="text-center text-xs text-gray-400 mt-2">Reconstruction Error Analysis (Log Scale)</p>
                                        </div>
                                        
                                        <div className="space-y-6">
                                            <div>
                                                <div className="flex items-center gap-3 mb-2">
                                                    <span className="flex items-center justify-center w-6 h-6 rounded-full bg-brand text-white text-xs font-bold">1</span>
                                                    <strong className="text-lg font-semibold text-gray-900">High Fidelity</strong>
                                                </div>
                                                <p className="text-sm text-textMuted pl-9">
                                                    FACT achieves an <strong>order-of-magnitude lower MSE</strong> than FAST+ and significantly smaller tokens than simple binning. Its MM-DiT Flow-Matching decoder eliminates quantization artifacts, reconstructing smooth, continuous trajectories to ensure sub-millimeter precision.
                                                </p>
                                            </div>
                                            <div>
                                                <div className="flex items-center gap-3 mb-2">
                                                     <span className="flex items-center justify-center w-6 h-6 rounded-full bg-brand text-white text-xs font-bold">2</span>
                                                    <strong className="text-lg font-semibold text-gray-900">Unified Space</strong>
                                                </div>
                                                <p className="text-sm text-textMuted pl-9">
                                                    Resolves the <strong>gradient interference</strong> that plagues hybrid architectures. By treating actions as discrete tokens, FACT aligns the motor control space with the VLM's reasoning space, allowing both to be co-optimized within a <strong>shared gradient space</strong>.
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Right Column: Real-World Evaluation */}
                                    <div className="flex flex-col h-full">
                                        <div className="space-y-4 mb-6">
                                            <div className="bg-white border border-gray-200 rounded-xl p-4 shadow-sm">
                                                 <SmartImage src="./figs/fig_lang_following.png" alt="Language Following" className="w-full h-auto rounded" fallbackText="[Chart: Language Following Score]" />
                                                 <p className="text-center text-xs text-gray-400 mt-2 font-medium">
                                                    Real-robot language following evaluation
                                                 </p>
                                            </div>
                                            <div className="bg-white border border-gray-200 rounded-xl p-4 shadow-sm">
                                                 <SmartImage src="./figs/fig_task_success.png" alt="Task Success" className="w-full h-auto rounded" fallbackText="[Chart: Task Success Rate]" />
                                                 <p className="text-center text-xs text-gray-400 mt-2 font-medium">
                                                    Real-robot task success rates
                                                 </p>
                                            </div>
                                        </div>

                                        <div>
                                            <div className="flex items-center gap-3 mb-2">
                                                <span className="flex items-center justify-center w-6 h-6 rounded-full bg-brand text-white text-xs font-bold">3</span>
                                                <strong className="text-lg font-semibold text-gray-900">Real-World Success</strong>
                                            </div>
                                            <p className="text-sm text-textMuted pl-9 leading-relaxed text-justify">
                                                By leveraging the <strong>FACT action tokenizer</strong> to bridge discrete reasoning and continuous control, GenieReasoner outperforms the discrete baseline (π0-FAST) in instruction following capabilities while surpassing continuous models (e.g., π0.5) in task success rates, ultimately achieving state-of-the-art aggregate performance.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <div className="section-divider max-w-5xl mx-auto"></div>

                    {/* AER Benchmark Section */}
                    <section id="benchmark" className="max-w-7xl mx-auto px-6 mb-24 scroll-mt-20">
                        <SectionHeader 
                            title="ERIQ: A Large-Scale Benchmark for Embodied Reasoning" 
                        />
                        
                        <div className="grid md:grid-cols-2 gap-10 mb-12 text-gray-600 leading-relaxed text-sm md:text-base text-justify">
                            <div>
                                <h4 className="sans-font font-bold text-textMain mb-3">Design Motivation</h4>
                                <p className="mb-4">
                                    We posit that advancing <strong>embodied reasoning</strong> is pivotal for achieving generalization and robustness in unstructured environments. Unlike traditional simulation-based VLA evaluations, ERIQ is designed to <strong>decouple and quantify</strong> task-specific reasoning capabilities, measuring the abstract cognition essential for generalization. By establishing this embodied intelligence evaluation suite, we can rigorously assess the abstract reasoning proficiency of pretrained models. This approach facilitates the optimization of multi-stage training and transforms the iterative development of VLAs into a more controllable and guided process.
                                </p>
                            </div>
                            <div>
                                <h4 className="sans-font font-bold text-textMain mb-3">Design Principles</h4>
                                <p className="mb-4">
                                    ERIQ employs a <strong>standardized Visual Question Answering (VQA) protocol</strong> (multiple-choice or binary) to ensure deterministic, rule-based evaluation, eliminating the ambiguity of open-ended generation metrics.
                                </p>
                                <p>
                                    The framework assesses four pillars of embodied intelligence: <strong>(1) Spatial Perception and Grounding, (2) Error Detection and Recovery, (3) Planning and Monitoring, and (4) Human–Robot Collaboration</strong>. Spanning 15 fine-grained sub-tasks and over 100 scenarios, it tests multi-modal reasoning across static, sequential, and interleaved image-text contexts.
                                </p>
                            </div>
                        </div>

                        <div className="mb-12">
                             <SmartImage src="./figs/aer_benchmark_visualization.png" alt="ERIQ Visualization" className="w-full h-auto rounded-lg border border-gray-200 shadow-sm" fallbackText="[Figure 2: ERIQ Benchmark Overview]" />
                        </div>

                        <div className="bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden">
                            <div className="grid lg:grid-cols-[30%_25%_45%] divide-y lg:divide-y-0 lg:divide-x divide-gray-100">
                                <div className="p-8 flex flex-col items-center justify-center bg-bgLight">
                                    <h4 className="sans-font font-bold text-xs uppercase tracking-widest text-gray-500 mb-8">Scene Distribution</h4>
                                    <div className="flex items-center gap-8">
                                        <div className="donut-chart shadow-inner"><div className="donut-hole shadow-sm"></div></div>
                                        <div className="text-xs space-y-2 sans-font text-gray-600">
                                            <div className="flex items-center gap-2"><span className="w-2 h-2 rounded-full" style={{background: COLORS.home}}></span> Home (35%)</div>
                                            <div className="flex items-center gap-2"><span className="w-2 h-2 rounded-full" style={{background: COLORS.restaurant}}></span> Restaurant (20%)</div>
                                            <div className="flex items-center gap-2"><span className="w-2 h-2 rounded-full" style={{background: COLORS.supermarket}}></span> Supermarket (20%)</div>
                                            <div className="flex items-center gap-2"><span className="w-2 h-2 rounded-full" style={{background: COLORS.industrial}}></span> Industrial (15%)</div>
                                            <div className="flex items-center gap-2"><span className="w-2 h-2 rounded-full" style={{background: COLORS.office}}></span> Office (10%)</div>
                                        </div>
                                    </div>
                                </div>

                                <div className="p-8 flex flex-col items-center justify-center">
                                    <h4 className="sans-font font-bold text-xs uppercase tracking-widest text-gray-500 mb-8">Vision Source</h4>
                                    <div className="flex h-48 gap-6 w-full max-w-[240px]">
                                        {[
                                            { h: '100%', label: 'Static', val: '52.9%', pct: 0.52875, c: COLORS.static }, 
                                            { h: '50.2%', label: 'Sequential', val: '26.6%', pct: 0.26553, c: COLORS.seq }, 
                                            { h: '38.9%', label: 'Interleaved', val: '20.6%', pct: 0.20572, c: COLORS.interleaved }
                                        ].map((bar, i) => {
                                            const rawCount = totalSubtaskSamples * bar.pct;
                                            const kValue = (rawCount / 1000).toFixed(1).replace(/\.0$/, ''); 
                                            const displayCount = `~${kValue}k`;
                                            return (
                                                <div key={i} className="flex flex-col items-center justify-end gap-2 flex-1 group w-12 h-full cursor-pointer relative">
                                                    <div className="h-6 relative w-full flex justify-center items-end">
                                                        <span className="text-[10px] text-gray-400 font-mono transition-all duration-200 absolute group-hover:opacity-0 translate-y-0 group-hover:-translate-y-1">{bar.val}</span>
                                                        <span className="text-[10px] text-blue-600 font-bold font-mono transition-all duration-200 absolute opacity-0 translate-y-1 group-hover:opacity-100 group-hover:translate-y-0">{displayCount}</span>
                                                    </div>
                                                    <div className="w-full rounded-t-sm transition-all duration-300 hover:opacity-90 hover:scale-y-105 origin-bottom" style={{height: bar.h, backgroundColor: bar.c}}></div>
                                                    <span className="text-[10px] text-gray-500 font-medium sans-font">{bar.label}</span>
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>

                                <div className="p-8 bg-bgLight">
                                    <h4 className="sans-font font-bold text-xs uppercase tracking-widest text-gray-500 mb-6 text-center">15 Diagnostic Tasks</h4>
                                    <div className="overflow-y-auto h-[240px] pr-4 custom-scrollbar space-y-3">
                                        {SUBTASK_DATA.map((task, idx) => (
                                            <div key={idx} className="flex items-center gap-3 text-xs sans-font group">
                                                <span className="w-36 text-right font-medium text-gray-600 truncate" title={task.name}>{task.name}</span>
                                                <div className="flex-1 h-2 bg-white border border-gray-200 rounded-full overflow-hidden">
                                                    <div className="h-full rounded-full transition-all duration-500" style={{width: `${(task.val/MAX_SUBTASK_VAL)*100}%`, background: COLORS[task.cat]}}></div>
                                                </div>
                                                <span className="w-8 text-right text-gray-400 font-mono text-[10px]">{task.val}</span>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* Closing Statement Section */}
                    <div className="max-w-4xl mx-auto px-6 mb-20">
                        <p className="text-gray-600 leading-relaxed italic text-justify text-sm">
                            We have fully open-sourced the <strong>ERIQ Benchmark</strong>, aiming to provide a reproducible and measurable technical foundation for the embodied AI community. We sincerely invite developers and researchers to leverage this benchmark, share feedback on edge cases in real-world scenarios, and collaborate to refine the metrics for embodied reasoning—accelerating the emergence of general-purpose embodied intelligence!
                        </p>
                    </div>

                    <footer className="bg-bgLight border-t border-gray-200 py-20 px-6">
                        <div className="max-w-5xl mx-auto">
                            <div className="flex flex-col items-center justify-center text-center">
                                <div className="w-full max-w-4xl mb-8">
                                    <h4 className="sans-font font-bold text-textMain mb-4 text-xs uppercase tracking-wide">Citation</h4>
                                    <div className="relative group">
                                        <div className="bg-slate-50 p-6 border border-gray-200 rounded-lg text-xs font-mono text-gray-600 overflow-x-auto select-all shadow-sm text-left hover:shadow-md transition-shadow">
                                            <pre className="whitespace-pre-wrap break-all md:break-normal">{bibtex}</pre>
                                        </div>
                                        <button 
                                            onClick={handleCopy}
                                            className="absolute top-2 right-2 p-2 rounded-md bg-white border border-gray-200 text-gray-500 hover:text-brand hover:border-brand transition-all shadow-sm opacity-0 group-hover:opacity-100 focus:opacity-100"
                                            title="Copy BibTeX"
                                        >
                                            {copied ? <CheckIcon size={14} className="text-green-600" /> : <CopyIcon size={14} />}
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div className="text-center text-xs text-gray-400 sans-font border-t border-gray-200 pt-8">© 2025 AgiBot Research.</div>
                        </div>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>